<!DOCTYPE html>
<html> <head lang=en><meta charset=UTF-8><title>Kotlin Koans I - The Beginning | EF</title><link href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css rel=stylesheet><link href=http://fonts.googleapis.com/css?family=Inconsolata rel=stylesheet type=text/css><link rel=stylesheet href=http://nafiulis.me/theme/css/main.css><link rel=stylesheet href=http://nafiulis.me/theme/css/pygment.css><script src=http://nafiulis.me/theme/js/jquery.min.js></script><script src=http://nafiulis.me/theme/js/main.js></script></head> <body> <!--Heading at the top saying "Engineering Fantasy"--> <div id=header_top> <div class=title> <a href=http://nafiulis.me><span id=engineering>Engineering</span><span id=fantasy>Fantasy</span></a> </div> </div> <button type=button class="js-menu-trigger sliding-menu-button button-nav"> <img src=https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/menu-white.png alt="Menu Icon"> </button> <!--Navigation Bar--> <nav class="js-menu sliding-menu-content"> <span class=section-header>Pages</span> <ul> <li><a href=http://nafiulis.me>Home</a></li> <li><a href=http://nafiulis.me/tags.html>Tags</a></li> <li><a href=http://nafiulis.me/pages/about-me.html>About Me</a></li> </ul> <span class=section-header>Categories</span> <ul> <li><a href=http://nafiulis.me/category/anime.html>Anime</a></li> <li><a href=http://nafiulis.me/category/education.html>Education</a></li> <li><a href=http://nafiulis.me/category/productivity.html>Productivity</a></li> <li><a href=http://nafiulis.me/category/programming.html>programming</a></li> <li><a href=http://nafiulis.me/category/rants.html>rants</a></li> </ul> </nav> <div class="js-menu-screen menu-screen"></div> <!--Main Container--> <div class=container> <!--Top most menu--> <div id=menu> <div class=left> <a href=http://nafiulis.me/feeds/all.atom.xml><i class="fa fa-rss
                        icon"></i></a> <a href=https://twitter.com/gamesbrainiac><i class="fa fa-twitter icon"></i></a> </div> <div class=center> <h1 class=message>Nafiul Islam on casting spells with code</h1> </div> <div class=right> <a href=https://github.com/gamesbrainiac><i class="fa fa-github icon"></i></a> <a href=http://stackoverflow.com/users/1624921/games-brainiac><i class="fa fa-stack-overflow icon" style="padding-right: 30px"></i></a> </div> </div> <!--Main blog list container--> <div id=blogroll> <div class=article-container> <h1>Kotlin Koans I - The Beginning</h1> <p class=time>Saturday, 22 November 2014</p> <div class=article-content> <div class="contents topic" id=table-of-contents> <p class="topic-title first">Table of Contents</p> <ul class=simple> <li><a class="reference internal" href=#getting-started id=id10>Getting Started</a><ul> <li><a class="reference internal" href=#installing-kotlin id=id11>Installing Kotlin</a></li> <li><a class="reference internal" href=#hello-world-in-intellij-idea id=id12>Hello World in IntelliJ IDEA</a></li> <li><a class="reference internal" href=#dash-doctests id=id13>Dash doctests</a></li> <li><a class="reference internal" href=#cloning-the-koans id=id14>Cloning the Koans</a></li> </ul> </li> <li><a class="reference internal" href=#koans-part-i-introduction id=id15>Koans Part I: Introduction</a><ul> <li><a class="reference internal" href=#functions id=id16>0: Functions</a></li> <li><a class="reference internal" href=#collection-to-string id=id17>1: Collection to String</a></li> <li><a class="reference internal" href=#default-parameters id=id18>2.1: Default Parameters</a></li> <li><a class="reference internal" href=#collections-functions id=id19>2.2: Collections functions</a></li> <li><a class="reference internal" href=#lambdas id=id20>3: Lambdas</a></li> <li><a class="reference internal" href=#string-templates id=id21>4: String templates</a></li> <li><a class="reference internal" href=#null-safety id=id22>5: Null safety</a></li> <li><a class="reference internal" href=#smart-casts-recursion id=id23>6: Smart Casts &amp; Recursion</a></li> <li><a class="reference internal" href=#data-classes id=id24>7: Data Classes</a></li> <li><a class="reference internal" href=#extension-functions id=id25>8: Extension functions</a></li> <li><a class="reference internal" href=#extending-collections id=id26>9: Extending Collections</a></li> <li><a class="reference internal" href=#object-expressions id=id27>10: Object Expressions</a></li> </ul> </li> <li><a class="reference internal" href=#takeaway id=id28>Takeaway</a></li> <li><a class="reference internal" href=#acknowledgements id=id29>Acknowledgements</a></li> </ul> </div> <p>Kotlin is a programming language created by Jetbrains. It runs on both the Java Virtual Machine (JVM) and can be compiled to JavaScript.</p> <p>I've been meaning to try out Kotlin for quite some time. After my foray into <a class="reference external" href=http://www.scala-lang.org/ >Scala</a>, which brought some very dramatic changes to the Java universe, my interest in JVM based languages was re-invigorated.</p> <p>Back in 2013, Kotlin seemed like an interesting language because Jetbrains, a heavy investor in the JVM, was promoting it as an <em>industry first</em> programming language. I knew Kotlin also was going to have <em>excellent</em> tooling support, because after all Jetbrains is an IDE company. It wasn't until recently that Kotlin had a tutorial series called the <a class="reference external" href=http://kotlinlang.org/docs/tutorials/koans.html>Kotlin Koans</a>.</p> <p>So why should you learn Kotlin? Well that is what I will be trying to answer throughout this series. We will go through the Kotlin Koans, and find out the differences between Java and Kotlin as well as other languages, but in short <a class=footnote-reference href=#mistake id=id1>[1]</a>:</p> <ul class=simple> <li>No semicolons</li> <li>First class functions, meaning they do not need to be declared <em>within</em> classes</li> <li>Lambdas</li> <li>An awesome collections library</li> <li>Small runtime</li> <li>data classes, like <code>case</code> classes in Scala</li> <li>Good interoperability with existing Java code</li> </ul> <div class=section id=getting-started> <h2><a class=toc-backref href=#id10>Getting Started</a></h2> <div class=section id=installing-kotlin> <h3><a class=toc-backref href=#id11>Installing Kotlin</a></h3> <p>The simplest way to install Kotlin is to download <a class="reference external" href=https://www.jetbrains.com/idea/download/ >IntelliJ IDEA</a>. The community edition supports Kotlin so you can go ahead and download it. After this, we can install the Kotlin plugin, which will automatically install the Kotlin runtime as well:</p> <img alt="Installing the plugin. The steps are indicated by the numbering." class=align-center src=/images/koans_04.png> </div> <div class=section id=hello-world-in-intellij-idea> <h3><a class=toc-backref href=#id12>Hello World in IntelliJ IDEA</a></h3> <p>Once this has been installed, getting started with your first hello world project is simple. Hadi Hariri <a class=footnote-reference href=#hadi id=id2>[2]</a> has created a bunch of videos on <a class="reference external" href=http://kotlinlang.org/docs/videos.html>getting started</a>. Here, he demonstrates how to create a new Kotlin project:</p> <div class="external youtube"><iframe width=640 height=360 src=//www.youtube.com/embed/iMMBrcabSOI frameborder=0></iframe></div></div> <div class=section id=dash-doctests> <h3><a class=toc-backref href=#id13>Dash doctests</a></h3> <p>Kotlin also has <a class="reference external" href=http://kapeli.com/dash>Dash</a> <a class=footnote-reference href=#dash id=id4>[3]</a> doctests, provided by a third party:</p> <img alt="Installing Kotlin doctests" class=align-center src=/images/koans_05.png> <p>However, this merely is a copy of the online documentation available for <a class="reference external" href=http://kotlinlang.org/docs/reference/ >Kotlin</a>, and does not actually have a searchable API reference. The code completion in IDEA somewhat mitigates this though. The Jetbrains team is still working on modernizing the reference for Kotlin at the moment.</p> </div> <div class=section id=cloning-the-koans> <h3><a class=toc-backref href=#id14>Cloning the Koans</a></h3> <p>The next part is just cloning the Koans repository. One can just use the command line like so:</p> <div class=highlight><pre><span></span>git clone https://github.com/jetbrains/workshop-jb
</pre></div> <p>Or checkout from the IDEA start menu:</p> <img alt="Checking out from git" class=align-center src=/images/koans_06.png> <img alt="Setting the repo url" class=align-center src=/images/koans_07.png> </div> </div> <div class=section id=koans-part-i-introduction> <h2><a class=toc-backref href=#id15>Koans Part I: Introduction</a></h2> <p>I'm going to go through all the exercises in the Koans. I will share how I solved these problems, with the challenges I've had to face as well as examples of solutions themselves. One can merely continue reading to see a list of features that Kotlin has, or one can follow along using the consecutive sections as an answer sheet.</p> <div class=section id=functions> <h3><a class=toc-backref href=#id16>0: Functions</a></h3> <p>The goal of the Koans is to make all the tests pass. Lets head over to our first exercise:</p> <img alt="Where the file is located" class=align-center src=/images/koans_08.png> <p>Inside the file, we have <tt class="docutils literal">todoTask0</tt> and <tt class="docutils literal">task0</tt>. <code>todoTask0</code> gives us the information we need to complete the task. We essentially need to make it return <tt class="docutils literal">&quot;OK&quot;</tt>. This seems easy enough:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task0</span><span class=p>():</span> <span class=n>String</span> <span class=p>{</span>
    <span class=k>return</span> <span class=s>&quot;OK&quot;</span>
<span class=p>}</span>
</pre></div> <p>That was easy. We have a function here that returns a <code>String</code>.</p> </div> <div class=section id=collection-to-string> <h3><a class=toc-backref href=#id17>1: Collection to String</a></h3> <p>In this task, we need to convert a given collection into a string. We are allowed to copy and paste the Java code and transform it into Kotlin code:</p> <blockquote> You can just copy-paste it and agree to automatically convert it to Kotlin - but only in this task :).</blockquote> <p>It is unfortunate, however, that <code>todoTask1</code> does not give us any extra information other than telling us to just <em>&quot;Rewrite JavaCode1.task1 to Kotlin&quot;</em>. So, I decided to take a look at the test function located here:</p> <img alt="Where the tests are located" class=align-center src=/images/koans_09.png> <p>We can see that we are asked to turn the collection of numbers into a comma delimited string, with braces at the beginning and at the end:</p> <div class=highlight><pre><span></span><span class=k>class</span> <span class=nc>_01_Functions</span><span class=p>()</span> <span class=p>{</span>
    <span class=n>test</span> <span class=k>fun</span> <span class=nf>collection</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>Assert</span><span class=p>.</span><span class=n>assertEquals</span><span class=p>(</span><span class=s>&quot;{1, 2, 3, 42, 555}&quot;</span><span class=p>,</span> <span class=n>task1</span><span class=p>(</span><span class=n>listOf</span><span class=p>(</span><span class=m>1</span><span class=p>,</span> <span class=m>2</span><span class=p>,</span> <span class=m>3</span><span class=p>,</span> <span class=m>42</span><span class=p>,</span> <span class=m>555</span><span class=p>)))</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>Copying the Java code from <tt class="docutils literal">JavaCode1.task1</tt> results in this:</p> <div class=highlight><pre><span></span><span class=k>val</span> <span class=py>sb</span> <span class=p>=</span> <span class=n>StringBuilder</span><span class=p>()</span>
<span class=n>sb</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&quot;{&quot;</span><span class=p>)</span>
<span class=k>val</span> <span class=py>iterator</span> <span class=p>=</span> <span class=n>collection</span><span class=p>.</span><span class=n>iterator</span><span class=p>()</span>
<span class=k>while</span> <span class=p>(</span><span class=n>iterator</span><span class=p>.</span><span class=n>hasNext</span><span class=p>())</span> <span class=p>{</span>
    <span class=k>val</span> <span class=py>element</span> <span class=p>=</span> <span class=n>iterator</span><span class=p>.</span><span class=n>next</span><span class=p>()</span>
    <span class=n>sb</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=n>element</span><span class=p>)</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>iterator</span><span class=p>.</span><span class=n>hasNext</span><span class=p>())</span> <span class=p>{</span>
        <span class=n>sb</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&quot;, &quot;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>
<span class=n>sb</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&quot;}&quot;</span><span class=p>)</span>
<span class=k>return</span> <span class=n>sb</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>
</pre></div> <p>Not very different from the <em>actual</em> Java code. However, I chose to use the following function:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task1</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>String</span> <span class=p>{</span>

    <span class=k>val</span> <span class=py>sj</span> <span class=p>=</span> <span class=n>StringJoiner</span><span class=p>(</span><span class=s>&quot;, &quot;</span><span class=p>,</span> <span class=s>&quot;{&quot;</span><span class=p>,</span> <span class=s>&quot;}&quot;</span><span class=p>)</span>

    <span class=k>for</span> <span class=p>(</span><span class=n>item</span> <span class=k>in</span> <span class=n>collection</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>sj</span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=n>toString</span><span class=p>())</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>sj</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>
<span class=p>}</span>
</pre></div> <p>I don't know if my version has worse performance than the converted Java Code, but it sure passes the test:</p> <img alt="Passing test 1" class=align-center src=/images/koans_10.png> <p>In this I chose to use Kotlin's for loop that supports collections.</p> </div> <div class=section id=default-parameters> <h3><a class=toc-backref href=#id18>2.1: Default Parameters</a></h3> <p>In this exercise, we need to convert an overloaded Java class into a simple Kotlin function with default parameters. The function in question is <code>foo</code>:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>foo</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>String</span><span class=p>):</span> <span class=n>String</span> <span class=p>=</span> <span class=n>todoTask2_1</span><span class=p>()</span>
</pre></div> <p>At first this was confusing because it had been a long time since I had used a language that did <em>not</em> have default parameters. Secondly, <code>foo</code> already seemed to have a function body. Thirdly, there seemed to be no instructions on <em>what</em> the function did; you seemingly <em>had</em> to read the Java code to understand. I decided to go back to the tests again and see what was up.</p> <p>We have to rewrite the function <code>foo</code> to have three parameters:</p> <ul class=simple> <li><code>name</code> which is a <code>String</code>. Required</li> <li><code>toUpperCase</code> which is a <code>Boolean</code> value. Optional, defaults to <code>false</code></li> <li><code>number</code> which is a <code>Int</code>. Optional, defaults to <code>42</code></li> </ul> <p>With that out of the way, this is what I ended up with:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>foo</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span> <span class=n>number</span><span class=p>:</span> <span class=n>Int</span> <span class=p>=</span> <span class=m>42</span><span class=p>,</span> <span class=n>toUpperCase</span><span class=p>:</span> <span class=n>Boolean</span> <span class=p>=</span> <span class=k>false</span><span class=p>):</span> <span class=n>String</span> <span class=p>{</span>
    <span class=k>return</span> <span class=k>if</span> <span class=p>(</span><span class=n>toUpperCase</span><span class=p>)</span> <span class=n>name</span><span class=p>.</span><span class=n>toUpperCase</span><span class=p>()+</span><span class=n>number</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span> <span class=k>else</span> <span class=n>name</span><span class=p>+</span><span class=n>number</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span> <span class=c1>// 1</span>
<span class=p>}</span>

<span class=k>fun</span> <span class=nf>task2_1</span><span class=p>():</span> <span class=n>String</span> <span class=p>{</span>
    <span class=k>return</span> <span class=p>(</span><span class=n>foo</span><span class=p>(</span><span class=s>&quot;a&quot;</span><span class=p>)</span> <span class=p>+</span>
            <span class=n>foo</span><span class=p>(</span><span class=s>&quot;b&quot;</span><span class=p>,</span> <span class=n>number</span> <span class=p>=</span> <span class=m>1</span><span class=p>)</span> <span class=p>+</span>
            <span class=n>foo</span><span class=p>(</span><span class=s>&quot;c&quot;</span><span class=p>,</span> <span class=n>toUpperCase</span> <span class=p>=</span> <span class=k>true</span><span class=p>)</span> <span class=p>+</span>
            <span class=n>foo</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s>&quot;d&quot;</span><span class=p>,</span> <span class=n>number</span> <span class=p>=</span> <span class=m>2</span><span class=p>,</span> <span class=n>toUpperCase</span> <span class=p>=</span> <span class=k>true</span><span class=p>))</span>
<span class=p>}</span>
</pre></div> <p>In <code class=coderef>1</code> I use a ternary operator, the equivalent in a full <code>if-else</code> statement would be:</p> <div class=highlight><pre><span></span><span class=k>if</span> <span class=p>(</span><span class=n>toUpperCase</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>name</span><span class=p>.</span><span class=n>toUpperCase</span><span class=p>()</span> <span class=p>+</span> <span class=n>number</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>
<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>name</span> <span class=p>+</span> <span class=n>number</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>
<span class=p>}</span>
</pre></div> <p>Compared the above to the amount of Java code one would have to write:</p> <div class=highlight><pre><span></span><span class=kd>public</span> <span class=kd>class</span> <span class=nc>JavaCode2</span> <span class=kd>extends</span> <span class=n>JavaCode</span> <span class=o>{</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>defaultNumber</span> <span class=o>=</span> <span class=mi>42</span><span class=o>;</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>foo</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=kt>int</span> <span class=n>number</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>toUpperCase</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=o>(</span><span class=n>toUpperCase</span> <span class=o>?</span> <span class=n>name</span><span class=o>.</span><span class=na>toUpperCase</span><span class=o>()</span> <span class=o>:</span> <span class=n>name</span><span class=o>)</span> <span class=o>+</span> <span class=n>number</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>foo</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=kt>int</span> <span class=n>number</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>foo</span><span class=o>(</span><span class=n>name</span><span class=o>,</span> <span class=n>number</span><span class=o>,</span> <span class=kc>false</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>foo</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>toUpperCase</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>foo</span><span class=o>(</span><span class=n>name</span><span class=o>,</span> <span class=n>defaultNumber</span><span class=o>,</span> <span class=n>toUpperCase</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>foo</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>foo</span><span class=o>(</span><span class=n>name</span><span class=o>,</span> <span class=n>defaultNumber</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div> </div> <div class=section id=collections-functions> <h3><a class=toc-backref href=#id19>2.2: Collections functions</a></h3> <p>In <a class="reference internal" href=#collection-to-string>1: Collection to String</a>, we wrote some Kotlin to turn a collection of numbers into a string, enclosed by braces. In this exercise, we just have to use on line of code to achieve the same thing using <code>joinToString</code>:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task2_2</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>String</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>collection</span><span class=p>.</span><span class=n>joinToString</span><span class=p>(</span><span class=s>&quot;, &quot;</span><span class=p>,</span> <span class=s>&quot;{&quot;</span><span class=p>,</span> <span class=s>&quot;}&quot;</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> </div> <div class=section id=lambdas> <h3><a class=toc-backref href=#id20>3: Lambdas</a></h3> <p>This exercise essentially asks us to use lambdas to search for a value, in this case <code>42</code> in a list of integers. I could not find what I was looking for in the exercise file itself. For a person who is not used to Kotlin's lambda syntax this exercise might seem a little confusing. I happened to find out how to use lambdas in Kotlin from a <a class="reference external" href=http://jamie.mccrindle.org/2013/01/exploring-kotlin-standard-library-part-1.html>blog post</a>. In the beginning, I ended up with the following:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task3</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>Boolean</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>collection</span> <span class=n>map</span> <span class=p>{</span> <span class=n>x</span> <span class=p>-&gt;</span> <span class=n>x</span> <span class=p>%</span> <span class=m>42</span> <span class=p>==</span> <span class=m>0</span><span class=p>}</span> <span class=n>contains</span> <span class=k>true</span>
<span class=p>}</span>
</pre></div> <p>Here, we learn about Kotlin's new syntax for lambdas. One does not <em>have</em> to use braces, but they are allowed:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task3</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>Boolean</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>collection</span><span class=p>.</span><span class=n>map</span><span class=p>({</span> <span class=n>x</span> <span class=p>-&gt;</span> <span class=n>x</span> <span class=p>%</span> <span class=m>42</span> <span class=p>==</span> <span class=m>0</span><span class=p>}).</span><span class=n>contains</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
<span class=p>}</span>
</pre></div> <p>However, a friend of mine pointed out that <code>map</code> is not needed. Instead, <code>any</code> <a class=footnote-reference href=#arigatou id=id5>[4]</a> <a class=footnote-reference href=#lambdasreference id=id6>[5]</a> is a better solution:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task3</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>Boolean</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>collection</span> <span class=n>any</span> <span class=p>{</span><span class=n>i</span> <span class=p>-&gt;</span> <span class=n>i</span> <span class=p>%</span> <span class=m>42</span> <span class=p>==</span> <span class=m>0</span><span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>But, one can go even further. Instead of declaring a lambda that takes in a parameter, one can use the implicit iterator created, <code>it</code> shown in <code class=coderef>1</code> below:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task3</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>&gt;):</span> <span class=n>Boolean</span> <span class=p>{</span>
    <span class=c1>// ---------------------vv------------------+</span>
    <span class=k>return</span> <span class=n>collection</span> <span class=n>any</span> <span class=p>{</span> <span class=n>it</span> <span class=p>%</span> <span class=m>42</span> <span class=p>==</span> <span class=m>0</span> <span class=p>}</span>  <span class=c1>//  1</span>
<span class=p>}</span>
</pre></div> </div> <div class=section id=string-templates> <h3><a class=toc-backref href=#id21>4: String templates</a></h3> <p>In this exercise, we need to make a regex to match the patterns in the tests. The regex for months is already made:</p> <div class=highlight><pre><span></span><span class=k>val</span> <span class=py>month</span> <span class=p>=</span> <span class=s>&quot;(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)&quot;</span>
</pre></div> <p>All that we need to do is use this variable inside the <code>task4()</code> function like so:</p> <div class=highlight><pre><span></span><span class=c1>//                    |||                                        |||</span>
<span class=c1>// -------------------vvv----------------------------------------vvv</span>
<span class=k>fun</span> <span class=nf>task4</span><span class=p>():</span> <span class=n>String</span> <span class=p>=</span> <span class=s>&quot;&quot;&quot;(\w*) (\w*) \((\d{2}) ${month} (\d{4})\)&quot;&quot;&quot;</span>
</pre></div> <p>Above, we stick in the month variable, we could have also used <code>$month</code> instead of <code>${month}</code>. The string that we're using is triple quoted, or a multi-line string.The difference is that in a multi-line string, special characters don't need to be escaped.</p> </div> <div class=section id=null-safety> <h3><a class=toc-backref href=#id22>5: Null safety</a></h3> <p>This exercise is meant to demonstrate Kotlin's safety features. We have to change the body of <code>sendMessageToClient</code> to do the following:</p> <ul class=simple> <li>If <code>client</code> is <strong>not</strong> <code>null</code>, then we get its <code>personalInfo</code></li> <li>If <code>personalInfo</code> is <strong>not</strong> <code>null</code>, then we get the <code>email</code> from it</li> <li>If both <code>email</code> and <code>message</code> are <strong>not</strong> <code>null</code>, then we send a message using <code>mailer.sendMessage</code>. Otherwise, we return.</li> </ul> <p>Initially, I ended up with the following:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>sendMessageToClient</span><span class=p>(</span><span class=n>client</span><span class=p>:</span> <span class=n>Client</span><span class=p>?,</span> <span class=n>message</span><span class=p>:</span> <span class=n>String</span><span class=p>?,</span> <span class=n>mailer</span><span class=p>:</span> <span class=n>Mailer</span><span class=p>)</span> <span class=p>{</span>

    <span class=k>val</span> <span class=py>personalInfo</span> <span class=p>=</span> <span class=n>client</span><span class=o>?.</span><span class=n>personalInfo</span>  <span class=c1>// 1</span>
    <span class=k>val</span> <span class=py>email</span> <span class=p>=</span> <span class=n>personalInfo</span><span class=o>?.</span><span class=n>email</span>          <span class=c1>// 2</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>email</span> <span class=p>!=</span> <span class=k>null</span> <span class=p>&amp;&amp;</span> <span class=n>message</span> <span class=p>!=</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>mailer</span><span class=p>.</span><span class=n>sendMessage</span><span class=p>(</span><span class=n>email</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>return</span>  <span class=c1>// 3</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>I use two statements, <code class=coderef>1</code> and <code class=coderef>2</code> to get the data I needed. This However, can be done in a better way:</p> <div class=highlight><pre><span></span><span class=k>val</span> <span class=py>email</span> <span class=p>=</span> <span class=n>client</span><span class=o>?.</span><span class=n>personalInfo</span><span class=o>?.</span><span class=n>email</span>
</pre></div> <p>In <code class=coderef>3</code>, we just have an empty <code>return</code> statement. When a function returns nothing, it is actually returning <code>Unit</code>. <code>Unit</code> is a singleton and does not have to be return explicitly <a class=footnote-reference href=#breslavunit id=id7>[6]</a>. In other words, this function will work just fine:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>sendMessageToClient</span><span class=p>(</span><span class=n>client</span><span class=p>:</span> <span class=n>Client</span><span class=p>?,</span> <span class=n>message</span><span class=p>:</span> <span class=n>String</span><span class=p>?,</span> <span class=n>mailer</span><span class=p>:</span> <span class=n>Mailer</span><span class=p>)</span> <span class=p>{</span>

    <span class=k>val</span> <span class=py>email</span> <span class=p>=</span> <span class=n>client</span><span class=o>?.</span><span class=n>personalInfo</span><span class=o>?.</span><span class=n>email</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>email</span> <span class=p>!=</span> <span class=k>null</span> <span class=p>&amp;&amp;</span> <span class=n>message</span> <span class=p>!=</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>mailer</span><span class=p>.</span><span class=n>sendMessage</span><span class=p>(</span><span class=n>email</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>In the end, we need <code>email</code> and <code>message</code> to use <code>mailer.sendMessage</code>. Even in something like Python, one would need multiple if statements to get this done, and plenty of <code>hasattr</code> calls.</p> </div> <div class=section id=smart-casts-recursion> <h3><a class=toc-backref href=#id23>6: Smart Casts &amp; Recursion</a></h3> <p>In this exercise, we need to write a recursive function using Kotlin's <code>when</code> keyword. The basic gist of the problem is that we have:</p> <ul class=simple> <li>An abstract class called <code>Expr</code></li> <li>A class called <code>Num</code> that represents a number.</li> <li>A class called <code>Sum</code> that represents the <em>sum</em> of two <code>Num</code> types.</li> </ul> <p>With this, we need to create a function that:</p> <ul class=simple> <li>Returns the <em>expression</em> of a summation or a number. For example:<ul> <li><code>print(Num(2))</code> should return <code>&quot;2&quot;</code></li> <li><code>print(Sum(Sum(Num(1), Num(2)), Num(3)))</code> should return <code>&quot;1 + 2 + 3&quot;</code></li> </ul> </li> </ul> <p>Hence, if we are given a <code>Sum</code> object, we need to call the function <em>again</em> breaking the sum down into two parts, the <code>left</code> and the <code>right</code>, as shown in <code>Sum</code>'s function definition:</p> <div class=highlight><pre><span></span><span class=k>class</span> <span class=nc>Sum</span><span class=p>(</span><span class=k>val</span> <span class=py>left</span><span class=p>:</span> <span class=n>Expr</span><span class=p>,</span> <span class=k>val</span> <span class=py>right</span><span class=p>:</span> <span class=n>Expr</span><span class=p>)</span> <span class=p>:</span> <span class=n>Expr</span><span class=p>()</span>
</pre></div> <p>With that in mind, we arrive at the following function, which sadly is called <code>print</code>:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>print</span><span class=p>(</span><span class=n>expr</span><span class=p>:</span> <span class=n>Expr</span><span class=p>):</span> <span class=n>String</span> <span class=p>{</span>  <span class=c1>// 1</span>
    <span class=k>when</span> <span class=p>(</span><span class=n>expr</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// 2</span>
        <span class=k>is</span> <span class=n>Num</span> <span class=p>-&gt;</span> <span class=k>return</span> <span class=n>expr</span><span class=p>.</span><span class=n>value</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>  <span class=c1>// 3</span>
        <span class=k>is</span> <span class=n>Sum</span> <span class=p>-&gt;</span> <span class=k>return</span> <span class=n>print</span><span class=p>(</span><span class=n>expr</span><span class=p>.</span><span class=n>left</span><span class=p>)</span> <span class=p>+</span> <span class=s>&quot; + &quot;</span> <span class=p>+</span> <span class=n>print</span><span class=p>(</span><span class=n>expr</span><span class=p>.</span><span class=n>right</span><span class=p>)</span>  <span class=c1>// 4</span>
        <span class=k>else</span> <span class=p>-&gt;</span> <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&quot;Unknown expression&quot;</span><span class=p>)</span>  <span class=c1>// 5</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>In <code class=coderef>1</code> we declare the function <code>print</code> that takes in a type of <code>Expr</code> and returns a <code>String</code>. In <code class=coderef>2</code>, <code>when</code> feels like a switch statement. If <code>expr</code> is of instance <code>Num</code>, then we return the value of <code>expr</code> as a <code>String</code> in <code class=coderef>3</code>.</p> <p>However, if <code>expr</code> is of instance <code>Sum</code>, then we break down the <code>expr</code>, and call <code>print</code> on its <code>left</code> and <code>right</code> properties in <code class=coderef>4</code>.</p> <p>Otherwise in <code class=coderef>5</code>, we throw an <code>IllegalArgumentException</code> error because <code>expr</code> is neither a <code>Sum</code> or <code>Num</code>.</p> <p>In <code class=coderef>4</code>, we could have also used string templates instead, like so:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>print</span><span class=p>(</span><span class=n>expr</span><span class=p>:</span> <span class=n>Expr</span><span class=p>):</span> <span class=n>String</span> <span class=p>{</span>
    <span class=k>when</span> <span class=p>(</span><span class=n>expr</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>is</span> <span class=n>Num</span> <span class=p>-&gt;</span> <span class=k>return</span> <span class=n>expr</span><span class=p>.</span><span class=n>value</span><span class=p>.</span><span class=n>toString</span><span class=p>()</span>
        <span class=c1>//                vvvvvvvvvvvvvvvvvvv   vvvvvvvvvvvvvvvvvvvv</span>
        <span class=k>is</span> <span class=n>Sum</span> <span class=p>-&gt;</span> <span class=k>return</span> <span class=s>&quot;${print(expr.left)} + ${print(expr.right)}&quot;</span>
        <span class=k>else</span> <span class=p>-&gt;</span> <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>(</span><span class=s>&quot;Unknown expression&quot;</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>In this example, we do not need to explicitly cast <code>expr</code> as <code>Num</code> or <code>Sum</code>, like we have to do in Java:</p> <div class=highlight><pre><span></span><span class=o>(...)</span>
<span class=k>if</span> <span class=o>(</span><span class=n>expr</span> <span class=k>instanceof</span> <span class=n>Num</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=s>&quot;&quot;</span> <span class=o>+</span> <span class=o>((</span><span class=n>Num</span><span class=o>)</span> <span class=n>expr</span><span class=o>).</span><span class=na>getValue</span><span class=o>();</span>
<span class=o>}</span>
<span class=o>(...)</span>
</pre></div> </div> <div class=section id=data-classes> <h3><a class=toc-backref href=#id24>7: Data Classes</a></h3> <p>Data classes are like <code>case</code> classes in Scala, they're for storing data, and have a lot of useful helper functions baked in, like <code>equals</code> and <code>hashCode</code> and the obligatory <code>toString</code>. In this exercise, we really don't have a lot to do, we just have to read through some of the code samples. One thing I feel that the samples missed out on showing that <code>data</code> classes can also have optional parameters. The following code:</p> <div class=highlight><pre><span></span><span class=k>data</span> <span class=k>class</span> <span class=nc>Account</span><span class=p>(</span><span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span> <span class=k>val</span> <span class=py>account_id</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span> <span class=k>val</span> <span class=py>active</span><span class=p>:</span> <span class=n>Boolean</span> <span class=p>=</span> <span class=k>true</span><span class=p>)</span>

<span class=k>fun</span> <span class=nf>main</span><span class=p>(</span><span class=n>args</span><span class=p>:</span> <span class=n>Array</span><span class=p>&lt;</span><span class=n>String</span><span class=p>&gt;)</span> <span class=p>{</span>
    <span class=k>val</span> <span class=py>ac</span> <span class=p>=</span> <span class=n>Account</span><span class=p>(</span><span class=s>&quot;Nafiul Islam&quot;</span><span class=p>,</span> <span class=s>&quot;A2231200ODSSDF4%%32123&quot;</span><span class=p>)</span>
    <span class=n>print</span><span class=p>(</span><span class=s>&quot;${ac.name}, ${ac.account_id}, ${ac.active}&quot;</span><span class=p>)</span>
<span class=p>}</span>
</pre></div> <p>Outputs:</p> <div class=highlight><pre><span></span>Nafiul Islam, A2231200ODSSDF4%%32123, true
</pre></div> </div> <div class=section id=extension-functions> <h3><a class=toc-backref href=#id25>8: Extension functions</a></h3> <p>The Kotlin team came up with a pretty neat euphemism for what is essentially <em>monkey-patching</em>. Extension functions allow you to <em>patch</em> a class with extra methods. For example:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>String</span><span class=p>.</span><span class=n>lastChar</span><span class=p>()</span> <span class=p>=</span> <span class=k>this</span><span class=p>.</span><span class=n>charAt</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>length</span> <span class=p>-</span> <span class=m>1</span><span class=p>)</span>

<span class=k>fun</span> <span class=nf>main</span><span class=p>(</span><span class=n>args</span><span class=p>:</span> <span class=n>Array</span><span class=p>&lt;</span><span class=n>String</span><span class=p>&gt;)</span> <span class=p>{</span>
    <span class=n>print</span><span class=p>(</span><span class=s>&quot;Hello World!&quot;</span><span class=p>.</span><span class=n>lastChar</span><span class=p>())</span>  <span class=c1>// Outputs: !</span>
<span class=p>}</span>
</pre></div> <p>This is pretty neat, we can actually monkey patch stdlib classes. So, without much further ado, we need to create extension functions on <code>Int</code>, to allow two new constructor methods for a <code>RationalNumber</code>. One being, <code>Int.r()</code>, which allows us to create a rational number like so:</p> <div class=highlight><pre><span></span><span class=m>4.</span><span class=n>r</span><span class=p>()</span>  <span class=c1>// Outputs RationalNumber(4, 1), in essence 4/1</span>
</pre></div> <p>As well as:</p> <div class=highlight><pre><span></span><span class=n>Pair</span><span class=p>(</span><span class=m>10</span><span class=p>,</span> <span class=m>20</span><span class=p>)</span> <span class=c1>// Outputs RationalNumber(10, 20), in essence 10/20</span>
</pre></div> <p>This is one way of implementing such auxiliary constructors:</p> <div class=highlight><pre><span></span><span class=k>data</span> <span class=k>class</span> <span class=nc>RationalNumber</span><span class=p>(</span><span class=k>val</span> <span class=py>numerator</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>val</span> <span class=py>denominator</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span>  <span class=c1>// 1</span>

<span class=k>fun</span> <span class=nf>Int</span><span class=p>.</span><span class=n>r</span><span class=p>():</span> <span class=n>RationalNumber</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>RationalNumber</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=m>1</span><span class=p>)</span>  <span class=c1>// 2</span>
<span class=p>}</span>

<span class=k>fun</span> <span class=nf>Pair</span><span class=p>&lt;</span><span class=n>Int</span><span class=p>,</span> <span class=n>Int</span><span class=p>&gt;.</span><span class=n>r</span><span class=p>():</span> <span class=n>RationalNumber</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>RationalNumber</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>first</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=n>second</span><span class=p>)</span>  <span class=c1>// 3</span>
<span class=p>}</span>
</pre></div> <p>In <code class=coderef>1</code>, we have declared our <code>RationalNumber</code> data class. This is already given to us in the exercise.</p> <p>In <code class=coderef>2</code>, we return an a <code>RationalNumber</code>, the first parameter is <code>this</code>, and the second <code>1</code>. Basically, creating <code>4/1</code>.</p> <p>In <code class=coderef>3</code>, we extend <code>Pair</code>, this is an inbuilt class from the stdlib. In this case, we're extending a pair of two <code>Int</code> variables. Code completion brought up <code>first</code> and <code>second</code> fields for <code>Pair</code>. However, the documentation did not say it had these fields:</p> <img alt="Information on Pair" class=align-center src=/images/koans_11.png> <p>Hitting <kbd class=light>âŒ˜</kbd> + <kbd class=light>B</kbd> <a class=footnote-reference href=#gotosource id=id8>[7]</a> brought this up inside <code>Tuples.kt</code> (which appears to be part of the stdlib):</p> <div class=highlight><pre><span></span><span class=k>public</span> <span class=k>data</span> <span class=k>class</span> <span class=nc>Pair</span><span class=p>&lt;</span><span class=k>out</span> <span class=n>A</span><span class=p>,</span> <span class=k>out</span> <span class=n>B</span><span class=p>&gt;(</span>
        <span class=k>public</span> <span class=k>val</span> <span class=py>first</span><span class=p>:</span> <span class=n>A</span><span class=p>,</span>  <span class=c1>// 1</span>
        <span class=k>public</span> <span class=k>val</span> <span class=py>second</span><span class=p>:</span> <span class=n>B</span>  <span class=c1>// 2</span>
<span class=p>)</span> <span class=p>:</span> <span class=n>Serializable</span> <span class=p>{</span>
    <span class=k>override</span> <span class=k>fun</span> <span class=nf>toString</span><span class=p>():</span> <span class=n>String</span> <span class=p>=</span> <span class=s>&quot;($first, $second)&quot;</span>
<span class=p>}</span>
</pre></div> <p>We can see that in <code class=coderef>1</code> and <code class=coderef>2</code>, <code>first</code> and <code>second</code> is declared as variables.</p> </div> <div class=section id=extending-collections> <h3><a class=toc-backref href=#id26>9: Extending Collections</a></h3> <p>In this exercise, we have to extend collections. Following the convention of the other exercises before, we need to translate some Java code to Kotlin code. In this case, the Java code does the following:</p> <ul class=simple> <li>Group strings present in <code>collection</code> by length.</li> <li>Find the maximum size of all the groups, meaning find the group that has the most number of members. Stored in <code>maximumSizeOfGroup</code>.</li> <li>Return the members of the group with the highest number of members.</li> </ul> <p>After deciphering the Java version of the program in <code>JavaCode9.java</code>, I managed to figure out what needed to be done. Here are the results:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>doSomethingStrangeWithCollection</span><span class=p>(</span><span class=n>collection</span><span class=p>:</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>String</span><span class=p>&gt;):</span> <span class=n>Collection</span><span class=p>&lt;</span><span class=n>String</span><span class=p>&gt;?</span> <span class=p>{</span>
    <span class=k>val</span> <span class=py>groupsByLength</span> <span class=p>=</span> <span class=n>collection</span><span class=p>.</span> <span class=n>groupBy</span> <span class=p>{</span> <span class=n>s</span> <span class=p>-&gt;</span> <span class=n>s</span><span class=p>.</span><span class=n>length</span> <span class=p>}</span>

    <span class=k>val</span> <span class=py>maximumSizeOfGroup</span> <span class=p>=</span> <span class=n>groupsByLength</span><span class=p>.</span> <span class=n>values</span><span class=p>().</span> <span class=n>map</span> <span class=p>{</span> <span class=n>group</span> <span class=p>-&gt;</span> <span class=n>group</span><span class=p>.</span><span class=n>size</span> <span class=p>}.</span> <span class=n>max</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>groupsByLength</span><span class=p>.</span> <span class=n>values</span><span class=p>().</span> <span class=n>firstOrNull</span> <span class=p>{</span> <span class=n>group</span> <span class=p>-&gt;</span> <span class=n>group</span><span class=p>.</span><span class=n>size</span> <span class=p>==</span> <span class=n>maximumSizeOfGroup</span> <span class=p>}</span>
<span class=p>}</span>
</pre></div> </div> <div class=section id=object-expressions> <h3><a class=toc-backref href=#id27>10: Object Expressions</a></h3> <p>This exercise shows us how to modify object instances on the fly. In this case, we need to modify <code>MouseAdapter</code> to register the number of clicks that it receives. So, following the examples, we can see that we need to use the following syntax:</p> <div class=highlight><pre><span></span><span class=k>val</span> <span class=py>foo</span><span class=p>:</span> <span class=n>Foo</span> <span class=p>=</span> <span class=k>object</span> <span class=err>: </span><span class=nc>Foo</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>override</span> <span class=k>fun</span> <span class=nf>foo</span><span class=p>()</span> <span class=p>{</span>
        <span class=c1>// Code goes here</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>With that set, lets modify our own instance of <code>MouseAdapter</code>:</p> <div class=highlight><pre><span></span><span class=k>fun</span> <span class=nf>task10</span><span class=p>(</span><span class=n>handleMouse</span><span class=p>:</span> <span class=p>(</span><span class=n>MouseListener</span><span class=p>)</span> <span class=p>-&gt;</span> <span class=n>Unit</span><span class=p>):</span> <span class=n>Int</span> <span class=p>{</span>
    <span class=k>var</span> <span class=py>mouseClicks</span> <span class=p>=</span> <span class=m>0</span>

    <span class=k>val</span> <span class=py>customAdapter</span> <span class=p>:</span> <span class=n>MouseAdapter</span> <span class=p>=</span> <span class=k>object</span> <span class=err>: </span><span class=nc>MouseAdapter</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>override</span> <span class=k>fun</span> <span class=nf>mouseClicked</span><span class=p>(</span><span class=n>e</span><span class=p>:</span> <span class=n>MouseEvent</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// 1</span>
            <span class=k>super</span><span class=p>&lt;</span><span class=n>MouseAdapter</span><span class=p>&gt;.</span><span class=n>mouseClicked</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>  <span class=c1>// 2</span>
            <span class=n>mouseClicks</span> <span class=p>+=</span> <span class=m>1</span>  <span class=c1>// 3</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=n>handleMouse</span><span class=p>(</span><span class=n>customAdapter</span><span class=p>)</span>  <span class=c1>// 4</span>
    <span class=k>return</span> <span class=n>mouseClicks</span>  <span class=c1>// 5</span>
<span class=p>}</span>
</pre></div> <p>In <code class=coderef>1</code> we override the function that handles mouse clicks. In <code class=coderef>2</code>, we make a call to the <code>super</code> function. When doing this, I did not know how to make this call and found it well documented in the reference <a class=footnote-reference href=#classesandinheritance id=id9>[8]</a>.</p> <p>In <code class=coderef>3</code>, we increase the number of mouse clicks in our <code>mouseClicks</code> variable. In <code class=coderef>4</code>, we register the handler and finally in <code class=coderef>5</code>, we return the number of mouse clicks.</p> </div> </div> <div class=section id=takeaway> <h2><a class=toc-backref href=#id28>Takeaway</a></h2> <p>The Kotlin Koans have a lot of material packed in. If you're coming from a language other than Java, it might be a little difficult to understand what is going on. I wish it had more language agnostic instructions, as Kotlin is targeting JavaScript platforms as well.</p> <p>What I've learnt from the Introduction is that Kotlin is a ridiculously powerful language. Some of its features can even make Python sweat. The parts I liked most were lambdas, null safety features and extension functions.</p> <p>In total there are six parts to this series. We've just completed the first. I just can't wait for more :)</p> </div> <div class=section id=acknowledgements> <h2><a class=toc-backref href=#id29>Acknowledgements</a></h2> <p>A big thanks to the following people:</p> <ul class=simple> <li>Taro Nagasawa</li> <li>Keiron Pizzey</li> <li>Ilter Canberk</li> <li>Sahib Bin Mahboob</li> <li>Jeong Min-Lee</li> <li>Ashwini Chaudhury</li> <li>Hadi Hariri</li> </ul> <hr class=docutils> <table class="docutils footnote" frame=void id=mistake rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id1>[1]</a></td><td>If I've made a mistake in this list, or if you have any other suggestions that I've missed out, please do not hesitate to add.</td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=hadi rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id2>[2]</a></td><td>Hadi Hariri is an evangelist at Jetbrains.</td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=dash rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id4>[3]</a></td><td>Dash doctests are also supported by other tools on different platforms. Check out <a class="reference external" href=http://zealdocs.org/ >Zeal</a>.</td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=arigatou rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id5>[4]</a></td><td>æœ‰é›£ã†ã”ã–ã„ã¾ã™ã€‚(Thank you very much) to Taro Nagasawa for pointing this out to me :)</td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=lambdasreference rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id6>[5]</a></td><td><div class="first last line-block"> <div class=line>Implicit iterators talked about towards the end of &quot;Higher Order Functions&quot;</div> <div class=line><a class="reference external" href=http://kotlinlang.org/docs/reference/lambdas.html>http://kotlinlang.org/docs/reference/lambdas.html</a></div> </div> </td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=breslavunit rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id7>[6]</a></td><td><div class="first last line-block"> <div class=line>Andrey Breslav, the lead designer of the language commented on Unit</div> <div class=line><a class="reference external" href=https://confluence.jetbrains.com/display/Kotlin/Functions?focusedCommentId=40704501#comment-40704501>https://confluence.jetbrains.com/display/Kotlin/Functions?focusedCommentId=40704501#comment-40704501</a></div> </div> </td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=gotosource rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id8>[7]</a></td><td>For Win/Linux, one can use <kbd class=light>CTRL</kbd> + <kbd class=light>B</kbd>, in essence &quot;Go to Source&quot;.</td></tr> </tbody> </table> <table class="docutils footnote" frame=void id=classesandinheritance rules=none> <colgroup><col class=label><col></colgroup> <tbody valign=top> <tr><td class=label><a class=fn-backref href=#id9>[8]</a></td><td>In the section called &quot;Overriding Rules&quot; <a class="reference external" href=http://kotlinlang.org/docs/reference/classes.html#overriding-rules>http://kotlinlang.org/docs/reference/classes.html#overriding-rules</a></td></tr> </tbody> </table> </div> </div> </div> <div class=post-meta><span class=meta-type>Category: </span> <span><a href=http://nafiulis.me/category/programming.html>Programming</a></span> <span class=meta-type> Tags: </span> <span> <a href=http://nafiulis.me/tag/kotlin.html>kotlin</a>, <a href=http://nafiulis.me/tag/scala.html>scala</a>, <a href=http://nafiulis.me/tag/java.html>java</a>, <a href=http://nafiulis.me/tag/jvm.html>jvm</a>, <a href=http://nafiulis.me/tag/language.html>language</a> </span> </div> <div id=disqus_thread style="margin-top: 10px; margin-left: 20px; margin-right: 20px;"></div> <script type=text/javascript>
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'nafiulisme'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script> <noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript> </div> <!--Footer--> <div id=footer> <footer> Code examples licenced under MIT License <br> Copyright <i class="fa fa-copyright"></i> 2015 Quazi Nafiul Islam </footer> </div> </div> <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-55554110-1', 'auto');
          ga('send', 'pageview');
        </script> </body> </html>